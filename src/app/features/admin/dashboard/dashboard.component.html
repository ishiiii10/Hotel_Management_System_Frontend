<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">LOGO</div>
    </div>
    <nav class="sidebar-nav">
      <a routerLink="/admin/dashboard" class="nav-item active">Dashboard</a>
      <a routerLink="/admin/hotels" class="nav-item">Hotels</a>
      <a routerLink="/admin/users" class="nav-item">Users</a>
      <a routerLink="/admin/bookings" class="nav-item">Bookings</a>
      <a routerLink="/admin/reports" class="nav-item">Reports</a>
      <a routerLink="/admin/settings" class="nav-item">Settings</a>
    </nav>
    <div class="sidebar-footer">
      <button class="logout-btn-sidebar" (click)="logout()">Logout</button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <header class="dashboard-header">
      <h1 class="dashboard-title">Admin Dashboard</h1>
    </header>

    <div class="dashboard-body">
      <!-- Metrics Cards -->
      <div class="metrics-grid">
        <div class="metric-card">
          <div class="metric-label">Total Revenue</div>
          <div class="metric-value">{{ formatCurrency(metrics.totalRevenue) }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Monthly Revenue</div>
          <div class="metric-value">{{ formatCurrency(metrics.monthlyRevenue) }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Bookings</div>
          <div class="metric-value">{{ metrics.totalBookings }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Average Rating</div>
          <div class="metric-value">{{ metrics.averageRating | number:'1.1-1' }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Check-ins</div>
          <div class="metric-value">{{ metrics.totalCheckIns }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Check-outs</div>
          <div class="metric-value">{{ metrics.totalCheckOuts }}</div>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="charts-grid">
        <div class="chart-card">
          <div class="chart-title">Revenue Comparison by Hotels (Histogram)</div>
          <div class="chart-placeholder">
            <div *ngIf="revenueByHotel.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="revenueByHotel.length > 0" class="chart-data">
              <div *ngFor="let item of revenueByHotel" class="chart-bar-item">
                <div class="bar-label">{{ item.hotelName }}</div>
                <div class="bar-container">
                  <div class="bar" [style.width.%]="getBarPercentage(item.revenue)"></div>
                  <div class="bar-value">{{ formatCurrency(item.revenue) }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="chart-card">
          <div class="chart-title">Booking Status Distribution (Pie Chart)</div>
          <div class="chart-placeholder">
            <div *ngIf="bookingStatusDistribution.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="bookingStatusDistribution.length > 0" class="pie-chart-data">
              <div *ngFor="let item of bookingStatusDistribution" class="pie-item">
                <div class="pie-label">{{ item.status }}</div>
                <div class="pie-value">{{ item.count }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Trend Charts -->
      <div class="trend-charts-grid">
        <div class="chart-card">
          <div class="chart-title">Revenue Trend</div>
          <div class="chart-placeholder">
            <div *ngIf="revenueTrend.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="revenueTrend.length > 0" class="trend-chart-data">
              <div *ngFor="let item of revenueTrend" class="trend-item">
                <div class="trend-date">{{ item.date }}</div>
                <div class="trend-value">{{ formatCurrency(item.amount) }}</div>
              </div>
            </div>
          </div>
        </div>
        <div class="chart-card">
          <div class="chart-title">Booking Trend</div>
          <div class="chart-placeholder">
            <div *ngIf="bookingTrend.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="bookingTrend.length > 0" class="trend-chart-data">
              <div *ngFor="let item of bookingTrend" class="trend-item">
                <div class="trend-date">{{ item.date }}</div>
                <div class="trend-value">{{ item.count }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Hotels Table -->
      <div class="hotels-table-section">
        <div class="section-header">
          <h2 class="section-title">Hotels Overview</h2>
        </div>
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Category</th>
              <th>City</th>
              <th>Status</th>
              <th>Rating</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let hotel of hotels">
              <td>{{ hotel.id }}</td>
              <td>{{ hotel.name }}</td>
              <td>{{ hotel.category }}</td>
              <td>{{ hotel.city }}</td>
              <td>{{ hotel.status }}</td>
              <td>{{ hotel.starRating }}</td>
            </tr>
            <tr *ngIf="hotels.length === 0 && !isLoading">
              <td colspan="6" class="empty-state">No hotels found</td>
            </tr>
            <tr *ngIf="isLoading">
              <td colspan="6" class="loading-state">Loading...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
</div>
