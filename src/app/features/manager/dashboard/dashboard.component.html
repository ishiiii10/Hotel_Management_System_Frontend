<div class="dashboard-container">
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">BELLE VUE</div>
    </div>
    <nav class="sidebar-nav">
      <a routerLink="/manager/dashboard" class="nav-item active">Dashboard</a>
      <a routerLink="/manager/hotel-info" class="nav-item">Hotel Info</a>
      <a routerLink="/manager/rooms" class="nav-item">Rooms</a>
      <a routerLink="/manager/bookings" class="nav-item">Bookings</a>
      <a routerLink="/manager/availability" class="nav-item">Availability</a>
      <a routerLink="/manager/billing" class="nav-item">Billing</a>
      <a routerLink="/manager/settings" class="nav-item">Settings</a>
    </nav>
    <div class="sidebar-footer">
      <button class="logout-btn-sidebar" (click)="logout()">Logout</button>
    </div>
  </aside>

  <main class="main-content">
    <header class="dashboard-header">
      <h1 class="dashboard-title">Manager Dashboard</h1>
      <div class="header-right">
        <div class="user-info">{{ hotelName }}</div>
      </div>
    </header>

    <div class="dashboard-body">
      <!-- Metrics Cards -->
      <div class="metrics-grid">
        <div class="metric-card">
          <div class="metric-label">Total Revenue</div>
          <div class="metric-value">{{ formatCurrency(metrics.totalRevenue) }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Monthly Revenue</div>
          <div class="metric-value">{{ formatCurrency(metrics.monthlyRevenue) }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Bookings</div>
          <div class="metric-value">{{ metrics.totalBookings }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Average Rating</div>
          <div class="metric-value">{{ metrics.averageRating | number:'1.1-1' }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Check-ins</div>
          <div class="metric-value">{{ metrics.totalCheckIns }}</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Total Check-outs</div>
          <div class="metric-value">{{ metrics.totalCheckOuts }}</div>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="charts-grid">
        <div class="chart-card">
          <div class="chart-title">Revenue Trend</div>
          <div class="chart-placeholder">
            <div *ngIf="revenueTrend.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="revenueTrend.length > 0" class="trend-chart-data">
              <div *ngFor="let item of revenueTrend" class="trend-item">
                <div class="trend-date">{{ item.date }}</div>
                <div class="trend-value">{{ formatCurrency(item.amount) }}</div>
              </div>
            </div>
          </div>
        </div>
        <div class="chart-card">
          <div class="chart-title">Booking Status Distribution</div>
          <div class="chart-placeholder">
            <div *ngIf="bookingStatusDistribution.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="bookingStatusDistribution.length > 0" class="pie-chart-data">
              <div *ngFor="let item of bookingStatusDistribution" class="pie-item">
                <div class="pie-label">{{ item.status }}</div>
                <div class="pie-value">{{ item.count }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Booking Trend -->
      <div class="trend-chart-section">
        <div class="chart-card">
          <div class="chart-title">Booking Trend</div>
          <div class="chart-placeholder">
            <div *ngIf="bookingTrend.length === 0" class="empty-chart">No data available</div>
            <div *ngIf="bookingTrend.length > 0" class="trend-chart-data">
              <div *ngFor="let item of bookingTrend" class="trend-item">
                <div class="trend-date">{{ item.date }}</div>
                <div class="trend-value">{{ item.count }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Available Rooms by Category -->
      <div class="rooms-category-section">
        <div class="chart-card">
          <div class="chart-title">Available Rooms by Category</div>
          <div class="chart-placeholder">
            <div *ngIf="availableRoomsByCategory.length === 0" class="empty-chart">No available rooms</div>
            <div *ngIf="availableRoomsByCategory.length > 0" class="category-chart">
              <div *ngFor="let item of availableRoomsByCategory" class="category-item">
                <div class="category-bar-container">
                  <div class="category-label">{{ item.category }}</div>
                  <div class="category-bar-wrapper">
                    <div class="category-bar" [style.width.%]="(item.count / getMaxCount()) * 100">
                      <span class="category-count">{{ item.count }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
